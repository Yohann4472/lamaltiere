{% extends "LaMaltiereSiteWebMaltiereBundle:Templates:layoutAdministration.html.twig" %}{% block modele %}	<div class="modele">            <h2>Modèles<span class="action"><a id="ModeleNouveau" href="#type"><img src="{{ asset('bundles/lamaltieresitewebmaltiere/images/icones/document--plus.png') }}" width="16px" height="16px" title="Nouveau" alt="Nouveau" /></a></span></h2>            IMPORTANT : La langue associée au modèle corresponds à la même que celle de la catégorie sélectionnée.            <p>                <form id="formModeleNouveau" method="POST" action="{{ path('lamaltiere_administration_modele_enregistrer') }}">                    <fieldset>                        <p>                            <label for="selectProduit">Produit : </label>                            <select name="selectProduit" id="selectProduit">                            {% for produit in produits %}                                <option value="{{produit.id}}">{{produit.nom }}</option>                            {% endfor %}                            </select>                        </p>                        <div>                            <label for="categorie">Catégorie: </label>                            <select name="lstCategorieAdmin" id="lstCategorieAdmin">                                {% for produit in produits %}                                    {% for categorie in produit.categories %}                                        <option value="{{categorie.id}}" class="{{produit.id }}">{{ categorie.libelle }} - {{ categorie.lang }}</option>                                    {% endfor %}                                {% endfor %}                            </select>                        </div><br />                        <input type="hidden" id="mode" name="mode" value="creation" />                                                <div id="identifiant">                            <label for="identifiant">Identifiant : </label>                            <input type="text" required id="identifiant" name="identifiant" size="10" />                        </div>                        <div id="nomChamp">                            <label for="nom">Nom : </label>                            <input type="text" required id="nom" name="nom" size="50" />                        </div>                        <div id="descChamp">                            <label for="desc">Description :                            <textarea cols="80" rows="10" id="desc" name="desc"></textarea></label>                        </div>                        <div id="capaciteChamp">                            <label for="capacite">Capacité : </label>                            <input type="text" id="capacite" name="capacite" />                        </div>                        <div id="moteurChamp">                            <label for="moteur">Moteur : </label>                            <input type="text" id="moteur" name="moteur" />                        </div>                        <div id="longeurbateauChamp">                            <label for="longeurbateau">Longueur bateau : </label>                            <input type="text" id="longeurbateau" name="longeurbateau" />                        </div>                        <div id="longeurremorqueChamp">                            <label for="longeurremorque">Longueur remorque : </label>                            <input type="text" id="longeurremorque" name="longeurremorque" />                        </div>                        <div id="largeurbateauChamp">                            <label for="largeurbateau">Largeur bateau : </label>                            <input type="text" id="largeurbateau" name="largeurbateau" />                        </div>                        <div id="largeurremorqueChamp">                            <label for="largeurremorque">Largeur remorque : </label>                            <input type="text" id="largeurremorque" name="largeurremorque" />                        </div>                        <div id="hauteurChamp">                            <label for="hauteur">Hauteur : </label>                            <input type="text" id="hauteur" name="hauteur" />                        </div>                        <div id="poidsChamp">                            <label for="poids">Poids : </label>                            <input type="text" id="poids" name="poids" />                        </div>                        <div id="chargeChamp">                            <label for="charge">Charge : </label>                            <input type="text" id="charge" name="charge" />                        </div>                        <div id="ptcChamp">                            <label for="ptc">PTC : </label>                            <input type="text" id="ptc" name="ptc" />                        </div>                        <div id="rouleauxChamp">                            <label for="rouleaux">Nb rouleaux : </label>                            <input type="text" id="rouleaux" name="rouleaux" />                        </div>                        <div id="rouesChamp">                            <label for="roues">Roues : </label>                            <input type="text" id="roues" name="roues" />                        </div>                        <div id="prixChamp">                            <label for="prix">Prix : </label>                            <input type="text" id="prix" name="prix" />                        </div>                        <div id="boutiqueChamp">                            <label for="boutique">Boutique : </label>                            <input type="checkbox" id="boutique" name="boutique" />                        </div>                                                <div id="videoChamp">                            <label for="boutique">Vidéo : </label>                            <input type="checkbox" id="video" name="video" />                        </div>                                                <div id="commandeChamp">                            <label for="commande">Non commandable en ligne : </label>                            <input type="checkbox" id="commande" name="commande" />                        </div>                        <input type="submit" value="Enregistrer" />                    </fieldset>                </form>            </p>            {% for produit in produits %}                {% for categorie in produit.categories %}                    <h2>{{ produit.nom }} - {{ categorie.libelle }} - {{ categorie.lang }}</h2>                    {% for modele in categorie.modeles %}                        <h4 class="gras">{{ modele.id }} - {{ modele.nom }} - {{ modele.lang }}                        {% if modele.boutique_modele == true %}                            - En boutique                        {% endif %}                                                       <span class="action"><a id="Modele{{ modele.id  }}{{ modele.lang  }}" href="#modifier{{modele.id}}"><img src="{{ asset('bundles/lamaltieresitewebmaltiere/images/icones/document--pencil.png') }}" width="16px" height="16px" title="Modifier" alt="Modifier" /></a><a href="{{ path('lamaltiere_administration_modele_supprimer', { 'id' : modele.id, 'lang' : modele.lang }) }}"><img src="{{ asset('bundles/lamaltieresitewebmaltiere/images/icones/document--minus.png') }}" width="16px" height="16px" title="Supprimer" alt="Supprimer" /></a></span></h4>                        <p>                            <form id="formModele{{ modele.id }}{{ modele.lang  }}" method="POST" action="{{ path('lamaltiere_administration_modele_enregistrer') }}">                                <fieldset>                                    <input type="hidden" id="mode" name="mode" value="{{ modele.id }}" />                                    <input type="hidden" id="langue" name="langue" value="{{ modele.lang }}" />                                                                        <div id="identifiant">                                        <label for="identifiant">Identifiant : </label>                                        <input type="text" id="identifiant" name="identifiant" size="10" value="{{ modele.id }}" readonly/>                                    </div>                                                                        <div id="nomChamp">                                        <label for="nom">Nom : </label>                                        <input type="text" required id="nom" name="nom" size="50" value="{{ modele.nom }}" />                                    </div>                                    <div id="descChamp">                                        <label for="desc">Description :                                        <textarea cols="80" rows="10" id="desc" name="desc" value="">{{ modele.description }}</textarea></label>                                    </div>                                    {% if modele.categorie.produit.id == 1 %}                                         <div id="capaciteChamp">                                            <label for="capacite">Capacité : </label>                                            <input type="text" id="capacite" name="capacite" value="{{ modele.capacite }}" />                                        </div>                                        <div id="moteurChamp">                                            <label for="moteur">Moteur : </label>                                            <input type="text" id="moteur" name="moteur" value="{{ modele.moteur }}" />                                        </div>                                    {% endif %}                                    {% if modele.categorie.produit.id == 1 or modele.categorie.produit.id == 2 %}                                         <div id="longeurbateauChamp">                                            <label for="longeurbateau">Longueur bateau : </label>                                            <input type="text" id="longeurbateau" name="longeurbateau" value="{{ modele.longueur_bateau }}" />                                        </div>                                    {% endif %}                                    {% if modele.categorie.produit.id == 2 %}                                         <div id="longeurremorqueChamp">                                            <label for="longeurremorque">Longueur remorque : </label>                                            <input type="text" id="longeurremorque" name="longeurremorque" value="{{ modele.longueur_remorque }}" />                                        </div>                                    {% endif %}                                    {% if modele.categorie.produit.id == 1 %}                                        <div id="largeurbateauChamp">                                            <label for="largeurbateau">Largeur bateau : </label>                                            <input type="text" id="largeurbateau" name="largeurbateau" value="{{ modele.largeur_bateau }}" />                                        </div>                                    {% endif %}                                    {% if modele.categorie.produit.id == 2 %}                                        <div id="largeurremorqueChamp">                                            <label for="largeurremorque">Largeur remorque : </label>                                            <input type="text" id="largeurremorque" name="largeurremorque" value="{{ modele.largeur_remorque }}" />                                        </div>                                    {% endif %}                                    {% if modele.categorie.produit.id == 1 %}                                        <div id="hauteurChamp">                                            <label for="hauteur">Hauteur : </label>                                            <input type="text" id="hauteur" name="hauteur" value="{{ modele.hauteur_modele }}" />                                        </div>                                        <div id="poidsChamp">                                            <label for="poids">Poids : </label>                                            <input type="text" id="poids" name="poids" value="{{ modele.poids_modele }}" />                                        </div>                                    {% endif %}                                    {% if modele.categorie.produit.id == 1 or modele.categorie.produit.id == 2 %}                                         <div id="chargeChamp">                                            <label for="charge">Charge : </label>                                            <input type="text" id="charge" name="charge" value="{{ modele.charge }}" />                                        </div>                                    {% endif %}                                    {% if modele.categorie.produit.id == 2 %}                                        <div id="ptcChamp">                                            <label for="ptc">PTC : </label>                                            <input type="text" id="ptc" name="ptc" value="{{ modele.ptc }}" />                                        </div>                                        <div id="rouleauxChamp">                                            <label for="rouleaux">Nb rouleaux : </label>                                            <input type="text" id="rouleaux" name="rouleaux" value="{{ modele.nb_rouleaux }}" />                                        </div>                                        <div id="rouesChamp">                                            <label for="roues">Roues : </label>                                            <input type="text" id="roues" name="roues" value="{{ modele.roues }}" />                                        </div>                                    {% endif %}                                    <div id="prixChamp">                                        <label for="prix">Prix : </label>                                        <input type="text" id="prix" name="prix" value="{{ modele.prix_modele }}" />                                    </div>                                    <div id="boutiqueChamp">                                        <label for="boutique">Boutique : </label>                                        {% if modele.boutique_modele == true %}                                            <input type="checkbox" id="boutique" name="boutique" checked />                                        {% else %}                                            <input type="checkbox" id="boutique" name="boutique" />                                        {% endif %}                                    </div>                                                                        <div id="videoChamp">                                        <label for="boutique">Vidéo : </label>                                        {% if modele.video_modele == true %}                                            <input type="checkbox" id="video" name="video" checked />                                        {% else %}                                            <input type="checkbox" id="video" name="video" />                                        {% endif %}                                    </div>                                                                        <div id="commandeChamp">                                        <label for="commande">Non commandable en ligne : </label>                                        {% if modele.commande_modele == true %}                                            <input type="checkbox" id="commande" name="commande" checked />                                        {% else %}                                            <input type="checkbox" id="commande" name="commande" />                                        {% endif %}                                    </div>                                                                        <div>                                        <label for="categorie">Catégorie: </label>                                        <select name="lstCategorieAdmin" id="lstCategorieAdmin">                                            {% for produit in produits %}                                                {% for categorie in produit.categories %}                                                    {% if modele.categorie.produit.id == produit.id %}                                                        {% if categorie.id == modele.categorie.id %}                                                            <option value="{{categorie.id}}" class="{{produit.id}}" selected="selected">{{ categorie.libelle }} - {{ categorie.lang }}</option>                                                        {% else %}                                                            <option value="{{categorie.id}}" class="{{produit.id}}">{{ categorie.libelle }} - {{ categorie.lang }}</option>                                                        {% endif %}                                                    {% endif %}                                                    {% endfor %}                                            {% endfor %}                                        </select>                                    </div>                                    <input type="submit" value="Enregistrer" />                                </fieldset>                            </form>                        </p>                    {% endfor %}                {% endfor %}            {% endfor %}	</div>        <script>            initDetails();            detailBarques();                        $("#lstCategorieAdmin").chained("#selectProduit");                        $("form").each(function(){                $(this).hide();            });            $("a").click(function(){                var currentId = $(this).attr('id');                if($('#form' + currentId + '').is(":visible")){                    $('#form' + currentId + '').hide();                }else{                    $('#form' + currentId + '').show();                }            });                        $("#selectProduit").change(function(){                initDetails();                if ($(this).find(':selected').val() === '1') {                    detailBarques();                }else if ($(this).find(':selected').val() === '2') {                    detailRemorques();                }            });                        function initDetails(){                $('#capaciteChamp').hide();                $('#moteurChamp').hide();                $('#longeurbateauChamp').hide();                $('#longeurremorqueChamp').hide();                $('#largeurbateauChamp').hide();                $('#largeurremorqueChamp').hide();                $('#hauteurChamp').hide();                $('#poidsChamp').hide();                $('#chargeChamp').hide();                $('#ptcChamp').hide();                $('#rouleauxChamp').hide();                $('#rouesChamp').hide();                $('#prixChamp').show();                $('#boutiqueChamp').show();            }                        function detailBarques(){                $('#capaciteChamp').show();                $('#moteurChamp').show();                $('#longeurbateauChamp').show();                $('#largeurbateauChamp').show();                $('#hauteurChamp').show();                $('#poidsChamp').show();                $('#chargeChamp').show();                $('#prixChamp').hide();                $('#boutiqueChamp').hide();            }                        function detailRemorques(){                $('#longeurbateauChamp').show();                $('#longeurremorqueChamp').show();                $('#largeurremorqueChamp').show();                $('#chargeChamp').show();                $('#ptcChamp').show();                $('#rouleauxChamp').show();                $('#rouesChamp').show();                $('#prixChamp').hide();                $('#boutiqueChamp').hide();            }        </script>{% endblock %}	